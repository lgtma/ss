!function(a){a.fn.apMenu=function(s){var e=a.extend({toggleName:"toggle-main-menu",toggleNav:"",theme:"ap-menu-theme",fixedScroll:!0,direction:""},s);a.extend(e,s);return this.each(function(){var s=a(this),l="ap-menu",i="ap-sub-menu",t=s.find("ul:first"),n=a('<span class="ap-toggle '+e.toggleName+'"><i class="fa fa-bars"></i></span>');t.addClass(l),t.wrap('<div class="ap-menu-wrapper"></div>'),s.find("ul."+l+" li > ul").addClass(i),s.find("ul."+l+" li").has("ul").addClass(l+"-has-children"),a(e.theme)&&s.addClass(e.theme),"right"==e.direction?s.addClass("rtl"):"left"==e.direction?s.addClass("ltr"):s.addClass("ttb"),e.toggleNav?a(e.toggleNav).append(n):s.append(n),n.click(function(e){e.stopPropagation(),s.toggleClass("shrink"),a(this).toggleClass("shrink"),a(this).hasClass("shrink")?a("i",this).removeClass("fa-bars").addClass("fa-times"):a("i",this).removeClass("fa-times").addClass("fa-bars")});var d="fa-angle-down";a(".ap-menu-wrapper > ."+l+" > li").each(function(){var s="toggle-subnav",e='<i class="fa"></i>';a("."+i,this).length&&(a("> a",this).addClass(s),a(e).addClass(d).appendTo(a("> a",this)),a("."+l+"-has-children",this).each(function(){a("."+i).length&&(a("> a",this).addClass(s),a(e).addClass(d).appendTo(a("> a",this)))}))});var r=a("a.toggle-subnav > i.fa");r.click(function(s){s.preventDefault();var e=a(this).closest("li");a("li").not(a(this).parents("li")).removeClass("shrink"),e.toggleClass("shrink")}),a("body").on("click",function(l){var i=a(l.target),t=i.parents();i.is("a")||t.is("a")||(s.hasClass("shrink")&&(s.removeClass("shrink"),n.removeClass("shrink")),a("."+e.toggleName+" i.fa").hasClass("fa-times")&&a("."+e.toggleName+" i.fa").removeClass("fa-times").addClass("fa-bars"))}),1==e.fixedScroll&&a(window).scroll(function(){var s=window.pageYOffset,e=150,l=a(".site-nav");s>e?a(l).addClass("scrolled-down"):a(l).hasClass("scrolled-down")&&a(l).removeClass("scrolled-down")})})}}(jQuery);